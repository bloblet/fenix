name: Fenix Checks

on: [push, pull_request]

jobs:
  build_server:
    name: Build Fenix server (Ubuntu)
    runs-on: ubuntu-latest
    steps:
      - name: Check out last commit
        uses: actions/checkout@v2
        
      - name: Set up Go 1.15.2
        uses: actions/setup-go@v2
        with:
          go-version: '1.15.2'

      - name: Build server
        run: go build -v -o fenix-server ./server

  build_client:
    name: Build Fenix client (Ubuntu)
    runs-on: ubuntu-latest
    steps:
      - name: Check out last commit
        uses: actions/checkout@v2
        
      - name: Set up Go 1.15.2
        uses: actions/setup-go@v2
        with:
          go-version: '1.15.2'

      - name: Build client
        run: go build -v -o fenix-client ./client
